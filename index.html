<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Colorful Dictionary App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb);
      font-family: 'Roboto', sans-serif;
      color: #333;
    }
    .search-bar, .result, .recent-searches {
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .search-bar input, .search-bar button {
      border-radius: 25px;
    }
    .search-bar button {
      background-color: #ff7eb3;
      color: white;
      transition: 0.3s;
    }
    .search-bar button:hover {
      background-color: #fc5a8d;
    }
  </style>
</head>
<body>
  <div class="container my-4">
    <div class="row justify-content-center">
      <div class="col-md-8 text-center">
        <h1 class="fw-bold" style="color: #444;">Rainbowlex Dictionary</h1>

        <!-- Search bar -->
        <div class="search-bar my-4">
          <div class="input-group">
            <input type="text" id="wordInput" class="form-control" placeholder="Enter a word">
            <button class="btn" id="searchBtn">Search</button>
          </div>
        </div>

        <!-- Result section -->
        <div class="result" id="result"></div>

        <!-- Recent searches -->
        <div class="recent-searches mt-3">
          <h4>Recent Searches</h4>
          <ul id="searchList" class="list-unstyled"></ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    let recentWords = [];
    
    document.getElementById("searchBtn").addEventListener("click", function() {
      let word = document.getElementById("wordInput").value.trim();
      if (word === "") {
        alert("Please enter a word");
        return;
      }
      
      fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`)
        .then(response => response.json())
        .then(data => {
          let resultDiv = document.getElementById("result");
          if (data.title === "No Definitions Found") {
            resultDiv.innerHTML = `<p class='text-danger'>No definition found for <b>${word}</b></p>`;
          } else {
            let meanings = data[0].meanings
              .map(m => `<b>${m.partOfSpeech}</b>: ${m.definitions[0].definition}`)
              .join("<br>");
            resultDiv.innerHTML = `<h3>${data[0].word}</h3><p>${meanings}</p>`;
            updateRecentSearches(word);
          }
        })
        .catch(error => console.error("Error fetching definition:", error));
    });
    
    function updateRecentSearches(word) {
      if (!recentWords.includes(word)) {
        if (recentWords.length >= 10) {
          recentWords.pop();
        }
        recentWords.unshift(word);
        displayRecentSearches();
      }
    }
    
    function displayRecentSearches() {
      let searchList = document.getElementById("searchList");
      searchList.innerHTML = "";
      recentWords.forEach(w => {
        let listItem = document.createElement("li");
        listItem.textContent = w;
        searchList.appendChild(listItem);
      });
    }
  </script>
</body>
</html>
